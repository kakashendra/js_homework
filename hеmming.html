
<html>
    <head>
        <title>MyCode</title>
        <script>
        function encode()
        {
            let input = document.getElementById('inpMsg').value;
            let nums = input.split('');
            let flag = false;
            if (nums.length != 4)
            {
                alert("wrong input msg");
                flag = true;
                input = '';
            }
            for (i = 0; i < nums.length;i++)
            {
                nums[i] = parseInt(nums[i]);
                if (!(nums[i] == 1 || nums[i] == 0))
                {
                    alert("wrong input msg");
                    flag = true;
                    input = '';
                }
            }
            if (!flag)
            {
                input += (nums[0] + nums[1] + nums[3]) % 2;
                input += (nums[2] + nums[1] + nums[3]) % 2;
                input += (nums[0] + nums[2] + nums[3]) % 2;
            }
            document.getElementById('encodedMsg').value = input;
        }
        function decode()
        {
            let msg = document.getElementById('encodedMsg').value;
            let nums = msg.split('');
            for (i = 0; i < nums.length;i++)
                nums[i] = parseInt(nums[i]);
            let flag1 = (nums[0] + nums[1] + nums[3] + nums[4]) % 2 == 0;
            let flag2 = (nums[2] + nums[1] + nums[3] + nums[5]) % 2 == 0;
            let flag3 = (nums[2] + nums[1] + nums[3] + nums[6]) % 2 == 0;
            if (!flag1 && !flag2 && !flag3)
            {
                nums[3] = nums[3] == 1 ? 0 : 1;
            }
            else if(!flag1 && !flag2)
                nums[1] = nums[1] == 1 ? 0 : 1;
            else if (!flag1 && !flag3)
                nums[0] = nums[0] == 1 ? 0 : 1;
            else if (!flag2 && !flag3)
                nums[2] = nums[2] == 1 ? 0 : 1;
            else if (!flag1)
                nums[4] = nums[4] == 1 ? 0 : 1;
            else if (!flag2)
                nums[5] = nums[5] == 1 ? 0 : 1;
            else if (!flag3)
                nums[6] = nums[6] == 1 ? 0 : 1;
            msg = nums.join('');
            document.getElementById('originalMsg').value = msg;
        }
        </script>
    </head>
    <body>
        <h1> My Hemming Code </h1>
        <p><input type = 'text' id ='inpMsg'/> input message, 4 bits </p>
        <p><input type = 'button' value = 'encode' onclick = 'encode()'/></p>
        <p><input type = 'text' id = 'encodedMsg'/> encoded msg </p>
        <p><input type = 'button' value = 'check' onclick = 'decode()'/></p>
        <p><input type = 'text' id = 'originalMsg'/> original msg </p>
    </body>
</html>
